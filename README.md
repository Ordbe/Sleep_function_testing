### Описание
> Тестирование функции, вычисляющей продолжительность сна в приложении для мониторинга здоровья.
---
#### Анализ требований
При анализе требований отсутствует информация по поводу того, как должен выглядеть результат, когда устройство зафиксировало сон несколько раз и между этими периодами прошло более часа. Можно было бы оформить баг-репорт, но неизвестны входные требования использования нескольких периодов сна. В остальном проверка охарактеризована ниже.

#### План тестирования
В процессе ознакомления с требованиями было принято решение использовать метод разделения тестовых сценариев по классу эквивалентности и метод попарного тестирования. Таким образом, по классам эквивалентности (к.э.) были выделены следующие сценарии:
- разница между записями сна более 1 часа (к.э. 1.1);
- разница между записями сна менее 1 часа (к.э. 1.2);
- разница между записями сна 1 час (к.э. 1.3);
- в записях указан источник данных о сне, который был использован более 14 дней назад (к.э. 2.1);
- в записях указан источник данных о сне, который был использован менее 14 дней назад (к.э. 2.2);
- в записях указан источник данных о сне, который был использован 14 дней назад (к.э. 2.3);
- продолжительность сна более 17 часов (к.э. 3.1);
- продолжительность сна менее 17 часов (к.э. 3.2);
- продолжительность сна 17 часов (к.э. 3.3);
- записи в пределах 1 даты (к.э. 4.1);
- записи в пределах 2 дат (к.э. 4.2).
	
Эти 13 тестовых сценариев покроют основную часть работы функции анализа сна в пределах параметров, указанных в требованиях.

Для дополнения проверки сценариев, при которых ошибка может возникнуть из-за разницы входных значений по категориям begin/end/value/source дополнительно был применен метод попарного тестирования. Обозначить комбинации сценариев можно и вручную, но, во избежание погрешностей, был использован инструмент Pairwise Generator ресурса [Slothman](https://slothman.dev/pairwise-generator/). За входные значения использовались обозначенные выше классы эквивалентности, а за устройства - только данные Apple Health и Beddit, поэтому при увеличении количества устройств или изменении требований, учитываемых при проверке, следует заново сформировать комбинации для попарного тестирования. Входные данные для составления комбинаций тестов приведены в таблице: </br>
|Разница между записями сна|Последнее использование источника данных|Продолжительность сна|Кол-во дат в цикле сна|
|---|---|---|---|
|Более 1 часа|Более 14 дней назад|Более 17 часов|1 дата|
|Менее 1 часа|Менее 14 дней назад|Менее 17 часов|2 даты|
|Ровно час|Ровно 14 дней назад|Ровно 17 часов|-|

